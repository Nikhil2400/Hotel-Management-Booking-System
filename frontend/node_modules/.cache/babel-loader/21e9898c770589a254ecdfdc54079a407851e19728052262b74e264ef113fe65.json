{"ast":null,"code":"import axios from \"axios\";\nexport default class ApiService {\n  // static getHeader() {\n  //     const token = localStorage.getItem(\"token\");\n  //     return {\n  //         Authorization: `Bearer ${token}`,\n  //         \"Content-Type\": \"application/json\"\n  //     };\n  // }\n\n  /**AUTH */\n\n  /* This  register a new user */\n  static async registerUser(registration) {\n    const response = await axios.post(`${this.BASE_URL}/auth/register`, registration);\n    return response.data;\n  }\n\n  /* This  login a registered user */\n  static async loginUser(loginDetails) {\n    const response = await axios.post(`${this.BASE_URL}/auth/login`, loginDetails);\n    return response.data;\n  }\n\n  /***USERS */\n\n  /*  This is  to get the user profile */\n  static async getAllUsers() {\n    const response = await axios.get(`${this.BASE_URL}/users/all`, {\n      headers: this.getHeader()\n    });\n    return response.data;\n  }\n  static async getUserProfile() {\n    const response = await axios.get(`${this.BASE_URL}/users/get-logged-in-profile-info`, {\n      headers: this.getHeader()\n    });\n    return response.data;\n  }\n\n  /* This is the  to get a single user */\n  static async getUser(userId) {\n    const response = await axios.get(`${this.BASE_URL}/users/get-by-id/${userId}`, {\n      headers: this.getHeader()\n    });\n    return response.data;\n  }\n\n  /* This is the  to get user bookings by the user id */\n  static async getUserBookings(userId) {\n    const response = await axios.get(`${this.BASE_URL}/users/get-user-bookings/${userId}`, {\n      headers: this.getHeader()\n    });\n    return response.data;\n  }\n\n  /* This is to delete a user */\n  static async deleteUser(userId) {\n    const response = await axios.delete(`${this.BASE_URL}/users/delete/${userId}`, {\n      headers: this.getHeader()\n    });\n    return response.data;\n  }\n\n  /**ROOM */\n  /* This  adds a new room room to the database */\n  static async addRoom(formData) {\n    const result = await axios.post(`${this.BASE_URL}/rooms/add`, formData, {\n      headers: {\n        ...this.getHeader(),\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return result.data;\n  }\n\n  /* This  gets all availavle rooms */\n  static async getAllAvailableRooms() {\n    const result = await axios.get(`${this.BASE_URL}/rooms/all-available-rooms`);\n    return result.data;\n  }\n\n  /* This  gets all availavle by dates rooms from the database with a given date and a room type */\n  static async getAvailableRoomsByDateAndType(checkInDate, checkOutDate, roomType) {\n    const result = await axios.get(`${this.BASE_URL}/rooms/available-rooms-by-date-and-type?checkInDate=${checkInDate}\n\t\t&checkOutDate=${checkOutDate}&roomType=${roomType}`);\n    return result.data;\n  }\n\n  /* This  gets all room types from thee database */\n  static async getRoomTypes() {\n    const response = await axios.get(`${this.BASE_URL}/rooms/types`);\n    return response.data;\n  }\n  /* This  gets all rooms from the database */\n  static async getAllRooms() {\n    const result = await axios.get(`${this.BASE_URL}/rooms/all`);\n    return result.data;\n  }\n  /* This funcction gets a room by the id */\n  static async getRoomById(roomId) {\n    const result = await axios.get(`${this.BASE_URL}/rooms/room-by-id/${roomId}`);\n    return result.data;\n  }\n\n  /* This  deletes a room by the Id */\n  static async deleteRoom(roomId) {\n    const result = await axios.delete(`${this.BASE_URL}/rooms/delete/${roomId}`, {\n      headers: this.getHeader()\n    });\n    return result.data;\n  }\n\n  /* This updates a room */\n  static async updateRoom(roomId, formData) {\n    const result = await axios.put(`${this.BASE_URL}/rooms/update/${roomId}`, formData, {\n      headers: {\n        ...this.getHeader(),\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return result.data;\n  }\n\n  /**BOOKING */\n  /* This  saves a new booking to the databse */\n  static async bookRoom(roomId, userId, booking) {\n    console.log(\"USER ID IS: \" + userId);\n    const response = await axios.post(`${this.BASE_URL}/bookings/book-room/${roomId}/${userId}`, booking, {\n      headers: this.getHeader()\n    });\n    return response.data;\n  }\n\n  /* This  gets alll bokings from the database */\n  static async getAllBookings() {\n    const result = await axios.get(`${this.BASE_URL}/bookings/all`, {\n      headers: this.getHeader()\n    });\n    return result.data;\n  }\n\n  /* This  get booking by the cnfirmation code */\n  static async getBookingByConfirmationCode(bookingCode) {\n    const result = await axios.get(`${this.BASE_URL}/bookings/get-by-confirmation-code/${bookingCode}`);\n    return result.data;\n  }\n\n  /* This is the  to cancel user booking */\n  static async cancelBooking(bookingId) {\n    const result = await axios.delete(`${this.BASE_URL}/bookings/cancel/${bookingId}`, {\n      headers: this.getHeader()\n    });\n    return result.data;\n  }\n\n  /**AUTHENTICATION CHECKER */\n  static logout() {\n    localStorage.removeItem('token');\n    localStorage.removeItem('role');\n  }\n  static isAuthenticated() {\n    const token = localStorage.getItem('token');\n    return !!token;\n  }\n  static isAdmin() {\n    const role = localStorage.getItem('role');\n    return role === 'ADMIN';\n  }\n  static isUser() {\n    const role = localStorage.getItem('role');\n    return role === 'USER';\n  }\n}\n// export default new ApiService();\nApiService.BASE_URL = \"http://localhost:4040\";","map":{"version":3,"names":["axios","ApiService","registerUser","registration","response","post","BASE_URL","data","loginUser","loginDetails","getAllUsers","get","headers","getHeader","getUserProfile","getUser","userId","getUserBookings","deleteUser","delete","addRoom","formData","result","getAllAvailableRooms","getAvailableRoomsByDateAndType","checkInDate","checkOutDate","roomType","getRoomTypes","getAllRooms","getRoomById","roomId","deleteRoom","updateRoom","put","bookRoom","booking","console","log","getAllBookings","getBookingByConfirmationCode","bookingCode","cancelBooking","bookingId","logout","localStorage","removeItem","isAuthenticated","token","getItem","isAdmin","role","isUser"],"sources":["C:/Users/Nikhil Kayangude/Documents/Project/Hotel Management And Booking/frontend/src/service/ApiService.js"],"sourcesContent":["import axios from \"axios\"\n\nexport default class ApiService {\n\n    static BASE_URL = \"http://localhost:4040\"\n\n    // static getHeader() {\n    //     const token = localStorage.getItem(\"token\");\n    //     return {\n    //         Authorization: `Bearer ${token}`,\n    //         \"Content-Type\": \"application/json\"\n    //     };\n    // }\n\n    /**AUTH */\n\n    /* This  register a new user */\n    static async registerUser(registration) {\n        const response = await axios.post(`${this.BASE_URL}/auth/register`, registration)\n        return response.data\n    }\n\n    /* This  login a registered user */\n    static async loginUser(loginDetails) {\n        const response = await axios.post(`${this.BASE_URL}/auth/login`, loginDetails)\n        return response.data\n    }\n\n    /***USERS */\n\n\n    /*  This is  to get the user profile */\n    static async getAllUsers() {\n        const response = await axios.get(`${this.BASE_URL}/users/all`, {\n            headers: this.getHeader()\n        })\n        return response.data\n    }\n\n    static async getUserProfile() {\n        const response = await axios.get(`${this.BASE_URL}/users/get-logged-in-profile-info`, {\n            headers: this.getHeader()\n        })\n        return response.data\n    }\n\n\n    /* This is the  to get a single user */\n    static async getUser(userId) {\n        const response = await axios.get(`${this.BASE_URL}/users/get-by-id/${userId}`, {\n            headers: this.getHeader()\n        })\n        return response.data\n    }\n\n    /* This is the  to get user bookings by the user id */\n    static async getUserBookings(userId) {\n        const response = await axios.get(`${this.BASE_URL}/users/get-user-bookings/${userId}`, {\n            headers: this.getHeader()\n        })\n        return response.data\n    }\n\n\n    /* This is to delete a user */\n    static async deleteUser(userId) {\n        const response = await axios.delete(`${this.BASE_URL}/users/delete/${userId}`, {\n            headers: this.getHeader()\n        })\n        return response.data\n    }\n\n    /**ROOM */\n    /* This  adds a new room room to the database */\n    static async addRoom(formData) {\n        const result = await axios.post(`${this.BASE_URL}/rooms/add`, formData, {\n            headers: {\n                ...this.getHeader(),\n                'Content-Type': 'multipart/form-data'\n            }\n        });\n        return result.data;\n    }\n\n    /* This  gets all availavle rooms */\n    static async getAllAvailableRooms() {\n        const result = await axios.get(`${this.BASE_URL}/rooms/all-available-rooms`)\n        return result.data\n    }\n\n\n    /* This  gets all availavle by dates rooms from the database with a given date and a room type */\n    static async getAvailableRoomsByDateAndType(checkInDate, checkOutDate, roomType) {\n        const result = await axios.get(\n            `${this.BASE_URL}/rooms/available-rooms-by-date-and-type?checkInDate=${checkInDate}\n\t\t&checkOutDate=${checkOutDate}&roomType=${roomType}`\n        )\n        return result.data\n    }\n\n    /* This  gets all room types from thee database */\n    static async getRoomTypes() {\n        const response = await axios.get(`${this.BASE_URL}/rooms/types`)\n        return response.data\n    }\n    /* This  gets all rooms from the database */\n    static async getAllRooms() {\n        const result = await axios.get(`${this.BASE_URL}/rooms/all`)\n        return result.data\n    }\n    /* This funcction gets a room by the id */\n    static async getRoomById(roomId) {\n        const result = await axios.get(`${this.BASE_URL}/rooms/room-by-id/${roomId}`)\n        return result.data\n    }\n\n    /* This  deletes a room by the Id */\n    static async deleteRoom(roomId) {\n        const result = await axios.delete(`${this.BASE_URL}/rooms/delete/${roomId}`, {\n            headers: this.getHeader()\n        })\n        return result.data\n    }\n\n    /* This updates a room */\n    static async updateRoom(roomId, formData) {\n        const result = await axios.put(`${this.BASE_URL}/rooms/update/${roomId}`, formData, {\n            headers: {\n                ...this.getHeader(),\n                'Content-Type': 'multipart/form-data'\n            }\n        });\n        return result.data;\n    }\n\n\n    /**BOOKING */\n    /* This  saves a new booking to the databse */\n    static async bookRoom(roomId, userId, booking) {\n\n        console.log(\"USER ID IS: \" + userId)\n\n        const response = await axios.post(`${this.BASE_URL}/bookings/book-room/${roomId}/${userId}`, booking, {\n            headers: this.getHeader()\n        })\n        return response.data\n    }\n\n    /* This  gets alll bokings from the database */\n    static async getAllBookings() {\n        const result = await axios.get(`${this.BASE_URL}/bookings/all`, {\n            headers: this.getHeader()\n        })\n        return result.data\n    }\n\n    /* This  get booking by the cnfirmation code */\n    static async getBookingByConfirmationCode(bookingCode) {\n        const result = await axios.get(`${this.BASE_URL}/bookings/get-by-confirmation-code/${bookingCode}`)\n        return result.data\n    }\n\n    /* This is the  to cancel user booking */\n    static async cancelBooking(bookingId) {\n        const result = await axios.delete(`${this.BASE_URL}/bookings/cancel/${bookingId}`, {\n            headers: this.getHeader()\n        })\n        return result.data\n    }\n\n\n    /**AUTHENTICATION CHECKER */\n    static logout() {\n        localStorage.removeItem('token')\n        localStorage.removeItem('role')\n    }\n\n    static isAuthenticated() {\n        const token = localStorage.getItem('token')\n        return !!token\n    }\n\n    static isAdmin() {\n        const role = localStorage.getItem('role')\n        return role === 'ADMIN'\n    }\n\n    static isUser() {\n        const role = localStorage.getItem('role')\n        return role === 'USER'\n    }\n}\n// export default new ApiService();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}